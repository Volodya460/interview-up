generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}
enum QuestionCategory {
  JS
  HTML_CSS
  React
  Node
}

enum QuestionDifficulty {
  junior
  middle
  senior
}

model Flashcard {
  id         Int                 @id @default(autoincrement())
  question   String
  answer     String
  category   QuestionCategory?
  difficulty QuestionDifficulty?
  createdAt  DateTime            @default(now())
  updatedAt  DateTime            @updatedAt
}

model Test {
  id          Int                 @id @default(autoincrement())
  question    String
  description String?
  category    QuestionCategory?
  difficulty  QuestionDifficulty?
  options     TestOption[]        @relation("TestOptions")
  createdAt   DateTime            @default(now())
  updatedAt   DateTime            @updatedAt
}

model TestOption {
  id        Int      @id @default(autoincrement())
  text      String
  isCorrect Boolean  @default(false)

  test   Test @relation("TestOptions", fields: [testId], references: [id], onDelete: Cascade)
  testId Int
}
